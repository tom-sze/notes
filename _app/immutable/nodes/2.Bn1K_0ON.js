import{y as F,s as H,n as O,f as be,r as Y,b as k,z,A as le}from"../chunks/scheduler.CP636MpK.js";import{S as J,i as P,e as b,c as g,d as x,y as S,g as v,o as C,j as E,k as m,z as T,s as w,h as I,A as se,B as ge,m as re,b as me,f as he,l as ve,u as V,v as W,w as X,t as M,a as j,x as G,C as oe,n as ke,q as $e}from"../chunks/index.UI_eX3BW.js";import{w as U}from"../chunks/index.BnHbXiJB.js";function ae(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Z(n,e){let t=!1,l=null;const s=()=>{l==null?t=!1:(n(...l),l=null,setTimeout(s,e))};return(...r)=>{if(t){l=r;return}else n(...r),t=!0,setTimeout(s,e)}}const ee=U(localStorage.getItem("burger_open")||!0);ee.subscribe(n=>{localStorage.setItem("burger_open",n)});const K=U(localStorage.getItem("dark_mode")||!1);K.subscribe(n=>{localStorage.setItem("dark_mode",n)});const D=U(localStorage.getItem("sort_by")||"modified");D.subscribe(n=>{localStorage.setItem("sort_by",n)});const B=U(JSON.parse(localStorage.getItem("notes_list")||"{}"));B.subscribe(Z(n=>{localStorage.setItem("notes_list",JSON.stringify(n))},1e3));const A=U(JSON.parse(localStorage.getItem("notes_attributes")||"{}"));A.subscribe(Z(n=>{localStorage.setItem("notes_attributes",JSON.stringify(n))},1e3));const L=U([Object.keys(F(B))[0]]),q=U(!0),pe=U([]);function ye(n){let e,t,l="|||",s,r;return{c(){e=b("main"),t=b("button"),t.textContent=l,this.h()},l(a){e=g(a,"MAIN",{class:!0});var i=x(e);t=g(i,"BUTTON",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1z0rqnu"&&(t.textContent=l),i.forEach(v),this.h()},h(){C(t,"class","svelte-zbn57y"),C(e,"class","svelte-zbn57y")},m(a,i){E(a,e,i),m(e,t),s||(r=T(t,"click",n[0]),s=!0)},p:O,i:O,o:O,d(a){a&&v(e),s=!1,r()}}}function Ce(n){return[()=>ee.update(t=>!t)]}class Ne extends J{constructor(e){super(),P(this,e,Ce,ye,H,{})}}function Te(n){const e=n-1;return e*e*e+1}function ie(n){return-.5*(Math.cos(Math.PI*n)-1)}function ce(n,{delay:e=0,duration:t=400,easing:l=Te,axis:s="y"}={}){const r=getComputedStyle(n),a=+r.opacity,i=s==="y"?"height":"width",u=parseFloat(r[i]),o=s==="y"?["top","bottom"]:["left","right"],c=o.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),d=parseFloat(r[`padding${c[0]}`]),h=parseFloat(r[`padding${c[1]}`]),f=parseFloat(r[`margin${c[0]}`]),_=parseFloat(r[`margin${c[1]}`]),$=parseFloat(r[`border${c[0]}Width`]),N=parseFloat(r[`border${c[1]}Width`]);return{delay:e,duration:t,easing:l,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*a};${i}: ${p*u}px;padding-${o[0]}: ${p*d}px;padding-${o[1]}: ${p*h}px;margin-${o[0]}: ${p*f}px;margin-${o[1]}: ${p*_}px;border-${o[0]}-width: ${p*$}px;border-${o[1]}-width: ${p*N}px;`}}function we(n){let e,t,l="All Notes",s,r,a="Recently Deleted",i,u,o,c;return{c(){e=b("main"),t=b("button"),t.textContent=l,s=w(),r=b("button"),r.textContent=a,this.h()},l(d){e=g(d,"MAIN",{class:!0});var h=x(e);t=g(h,"BUTTON",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-wq8n9v"&&(t.textContent=l),s=I(h),r=g(h,"BUTTON",{class:!0,"data-svelte-h":!0}),S(r)!=="svelte-xebo5n"&&(r.textContent=a),h.forEach(v),this.h()},h(){C(t,"class","svelte-159vgir"),C(r,"class","svelte-159vgir"),C(e,"class","svelte-159vgir")},m(d,h){E(d,e,h),m(e,t),m(e,s),m(e,r),u=!0,o||(c=[T(t,"click",n[1]),T(r,"click",n[2])],o=!0)},p:O,i(d){u||(d&&be(()=>{u&&(i||(i=se(e,ce,{delay:0,duration:300,easing:ie,axis:"x"},!0)),i.run(1))}),u=!0)},o(d){d&&(i||(i=se(e,ce,{delay:0,duration:300,easing:ie,axis:"x"},!1)),i.run(0)),u=!1},d(d){d&&v(e),d&&i&&i.end(),o=!1,Y(c)}}}function Ie(n,e,t){let l,s;k(n,A,u=>t(3,l=u)),k(n,q,u=>t(0,s=u));let r=[];for(const u of Object.values(l))r.includes(u.folder)||r.push(u.folder);return[s,()=>z(q,s=!0,s),()=>z(q,s=!1,s)]}class Se extends J{constructor(e){super(),P(this,e,Ie,we,H,{})}}const Oe=1e3;function Ee(){let n=new Set([...Array(Oe).keys()]),e=new Set(Object.keys(F(B)).map(function(t){return parseInt(t,10)}));return n=n.difference(e),n.values().next().value}function xe(){let n=Ee();if(n===void 0)console.log("Note limit reached");else{let e=Math.floor(Date.now()/1e3);B.update(t=>(t[n.toString()]="",t)),A.update(t=>(t[n.toString()]={created:e,modified:e,folder:"",deleted:"false"},t))}L.set([n.toString()])}function Ae(){let n=F(L);A.update(e=>(n.forEach(t=>{e[t].deleted="true"}),e))}function Me(){let n=F(L);B.update(e=>(n.forEach(t=>{delete e[t]}),e)),A.update(e=>(n.forEach(t=>{delete e[t]}),e))}function Be(){let n=Object.entries(F(A));switch(F(D)){case"alphabetical":break;case"created":n.sort((e,t)=>t[1].created-e[1].created);break;case"modified":n.sort((e,t)=>t[1].modified-e[1].modified);break}console.log(n),pe.set(n)}function ue(n,e,t){const l=n.slice();return l[8]=e[t][0],l[9]=e[t][1],l}function de(n){let e,t=n[3][n[8]]+"",l,s,r,a,i;function u(){return n[6](n[8])}return{c(){e=b("button"),l=me(t),s=w(),this.h()},l(o){e=g(o,"BUTTON",{class:!0});var c=x(e);l=he(c,t),s=I(c),c.forEach(v),this.h()},h(){C(e,"class",r=le(n[2][0]===n[8]?"selected":"")+" svelte-1969vcf")},m(o,c){E(o,e,c),m(e,l),m(e,s),a||(i=T(e,"click",u),a=!0)},p(o,c){n=o,c&9&&t!==(t=n[3][n[8]]+"")&&ve(l,t),c&5&&r!==(r=le(n[2][0]===n[8]?"selected":"")+" svelte-1969vcf")&&C(e,"class",r)},d(o){o&&v(e),a=!1,i()}}}function fe(n){let e,t=(n[1]===!1&&n[9].deleted==="true"||(n[1]===!0||n[1]===n[9].folder)&&n[9].deleted==="false")&&de(n);return{c(){t&&t.c(),e=re()},l(l){t&&t.l(l),e=re()},m(l,s){t&&t.m(l,s),E(l,e,s)},p(l,s){l[1]===!1&&l[9].deleted==="true"||(l[1]===!0||l[1]===l[9].folder)&&l[9].deleted==="false"?t?t.p(l,s):(t=de(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&v(e),t&&t.d(l)}}}function Ue(n){let e,t=ae(n[0]),l=[];for(let s=0;s<t.length;s+=1)l[s]=fe(ue(n,t,s));return{c(){e=b("main");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=g(s,"MAIN",{class:!0});var r=x(e);for(let a=0;a<l.length;a+=1)l[a].l(r);r.forEach(v),this.h()},h(){C(e,"class","svelte-1969vcf")},m(s,r){E(s,e,r);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,[r]){if(r&15){t=ae(s[0]);let a;for(a=0;a<t.length;a+=1){const i=ue(s,t,a);l[a]?l[a].p(i,r):(l[a]=fe(i),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},i:O,o:O,d(s){s&&v(e),ge(l,s)}}}function je(n,e,t){let l,s,r,a,i,u;k(n,D,d=>t(4,l=d)),k(n,A,d=>t(5,s=d)),k(n,pe,d=>t(0,r=d)),k(n,q,d=>t(1,a=d)),k(n,L,d=>t(2,i=d)),k(n,B,d=>t(3,u=d));let o=Z(Be,1e3);const c=d=>L.set([d]);return n.$$.update=()=>{n.$$.dirty&48&&o()},[r,a,i,u,l,s,c]}class De extends J{constructor(e){super(),P(this,e,je,Ue,H,{})}}function ze(n){let e,t,l="New",s,r,a="Dark Mode",i,u,o="Delete",c,d,h="sort by modified",f,_,$="sort by created",N,p,te="sort by alphabetical",Q,ne;return{c(){e=b("main"),t=b("button"),t.textContent=l,s=w(),r=b("button"),r.textContent=a,i=w(),u=b("button"),u.textContent=o,c=w(),d=b("button"),d.textContent=h,f=w(),_=b("button"),_.textContent=$,N=w(),p=b("button"),p.textContent=te},l(R){e=g(R,"MAIN",{});var y=x(e);t=g(y,"BUTTON",{"data-svelte-h":!0}),S(t)!=="svelte-99m9g1"&&(t.textContent=l),s=I(y),r=g(y,"BUTTON",{"data-svelte-h":!0}),S(r)!=="svelte-hkhvqf"&&(r.textContent=a),i=I(y),u=g(y,"BUTTON",{"data-svelte-h":!0}),S(u)!=="svelte-1cjofho"&&(u.textContent=o),c=I(y),d=g(y,"BUTTON",{"data-svelte-h":!0}),S(d)!=="svelte-hzzaim"&&(d.textContent=h),f=I(y),_=g(y,"BUTTON",{"data-svelte-h":!0}),S(_)!=="svelte-orlqh8"&&(_.textContent=$),N=I(y),p=g(y,"BUTTON",{"data-svelte-h":!0}),S(p)!=="svelte-17z1dtc"&&(p.textContent=te),y.forEach(v)},m(R,y){E(R,e,y),m(e,t),m(e,s),m(e,r),m(e,i),m(e,u),m(e,c),m(e,d),m(e,f),m(e,_),m(e,N),m(e,p),Q||(ne=[T(t,"click",n[3]),T(r,"click",n[4]),T(u,"click",n[5]),T(d,"click",n[6]),T(_,"click",n[7]),T(p,"click",n[8])],Q=!0)},p:O,i:O,o:O,d(R){R&&v(e),Q=!1,Y(ne)}}}function qe(n,e,t){let l,s,r;return k(n,K,h=>t(0,l=h)),k(n,q,h=>t(1,s=h)),k(n,D,h=>t(2,r=h)),[l,s,r,()=>xe(),()=>z(K,l=!l,l),()=>s===!1?Me():Ae(),()=>z(D,r="modified",r),()=>z(D,r="created",r),()=>z(D,r="alphabetical",r)]}class Fe extends J{constructor(e){super(),P(this,e,qe,ze,H,{})}}function Le(n){let e;return{c(){e=me("please select a note")},l(t){e=he(t,"please select a note")},m(t,l){E(t,e,l)},p:O,d(t){t&&v(e)}}}function He(n){let e,t,l;return{c(){e=b("textarea"),this.h()},l(s){e=g(s,"TEXTAREA",{class:!0}),x(e).forEach(v),this.h()},h(){C(e,"class","svelte-fv46jt")},m(s,r){E(s,e,r),oe(e,n[1][n[0]]),t||(l=[T(e,"input",n[4]),T(e,"input",n[6])],t=!0)},p(s,r){r&3&&oe(e,s[1][s[0]])},d(s){s&&v(e),t=!1,Y(l)}}}function Je(n){let e,t,l,s,r;t=new Fe({});function a(o,c){return c&15&&(s=null),s==null&&(s=!!(Object.keys(o[1]).includes(o[0])&&(o[2]===!1&&o[3][o[0]].deleted==="true"||(o[2]===!0||o[2]===o[3][o[0]].folder)&&o[3][o[0]].deleted==="false"))),s?He:Le}let i=a(n,-1),u=i(n);return{c(){e=b("main"),V(t.$$.fragment),l=w(),u.c(),this.h()},l(o){e=g(o,"MAIN",{class:!0});var c=x(e);W(t.$$.fragment,c),l=I(c),u.l(c),c.forEach(v),this.h()},h(){C(e,"class","svelte-fv46jt")},m(o,c){E(o,e,c),X(t,e,null),m(e,l),u.m(e,null),r=!0},p(o,[c]){i===(i=a(o,c))&&u?u.p(o,c):(u.d(1),u=i(o),u&&(u.c(),u.m(e,null)))},i(o){r||(M(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&v(e),G(t),u.d()}}}function Pe(n,e,t){let l,s,r,a;k(n,L,c=>t(5,l=c)),k(n,B,c=>t(1,s=c)),k(n,q,c=>t(2,r=c)),k(n,A,c=>t(3,a=c));const i=()=>{A.update(c=>(c[l].modified=Math.floor(Date.now()/1e3),c))};let u;function o(){s[u]=this.value,B.set(s)}return n.$$.update=()=>{n.$$.dirty&32&&t(0,u=l[0])},[u,s,r,a,i,l,o]}class Re extends J{constructor(e){super(),P(this,e,Pe,Je,H,{})}}function _e(n){let e,t;return e=new Se({}),{c(){V(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){X(e,l,s),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Ve(n){let e,t,l='<meta name="google-signin-client_id" content="CLIENT_ID.apps.googleusercontent.com"/>',s,r,a,i,u,o,c,d,h;r=new Ne({});let f=n[0]&&_e();return o=new De({}),d=new Re({}),{c(){e=b("main"),t=b("head"),t.innerHTML=l,s=w(),V(r.$$.fragment),a=w(),i=b("div"),f&&f.c(),u=w(),V(o.$$.fragment),c=w(),V(d.$$.fragment),this.h()},l(_){e=g(_,"MAIN",{class:!0});var $=x(e);t=g($,"HEAD",{"data-svelte-h":!0}),S(t)!=="svelte-1r1fpxs"&&(t.innerHTML=l),s=I($),W(r.$$.fragment,$),a=I($),i=g($,"DIV",{id:!0,class:!0});var N=x(i);f&&f.l(N),u=I(N),W(o.$$.fragment,N),c=I(N),W(d.$$.fragment,N),N.forEach(v),$.forEach(v),this.h()},h(){C(i,"id","body"),C(i,"class","svelte-xtxbod"),C(e,"class","svelte-xtxbod")},m(_,$){E(_,e,$),m(e,t),m(e,s),X(r,e,null),m(e,a),m(e,i),f&&f.m(i,null),m(i,u),X(o,i,null),m(i,c),X(d,i,null),h=!0},p(_,[$]){_[0]?f?$&1&&M(f,1):(f=_e(),f.c(),M(f,1),f.m(i,u)):f&&($e(),j(f,1,1,()=>{f=null}),ke())},i(_){h||(M(r.$$.fragment,_),M(f),M(o.$$.fragment,_),M(d.$$.fragment,_),h=!0)},o(_){j(r.$$.fragment,_),j(f),j(o.$$.fragment,_),j(d.$$.fragment,_),h=!1},d(_){_&&v(e),G(r),f&&f.d(),G(o),G(d)}}}function We(n,e,t){let l,s;k(n,K,a=>t(1,l=a)),k(n,ee,a=>t(0,s=a));const r={true:{"--fg-color":"#ffffff","--bg-color":"#000000"},false:{"--fg-color":"#000000","--bg-color":"#ffffff"}};return n.$$.update=()=>{if(n.$$.dirty&2)for(const[a,i]of Object.entries(r[l]))document.documentElement.style.setProperty(a,i)},[s,l]}class Qe extends J{constructor(e){super(),P(this,e,We,Ve,H,{})}}export{Qe as component};
